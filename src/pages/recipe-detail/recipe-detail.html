<!--
  Generated template for the RecipeDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title class="name">{{recipe.name}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="royal" (click)="prepareFood()">
        <ion-icon name="pizza"></ion-icon>
      </button>
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content *ngIf="recipe">

  <div class="thumbnail">
    <img src="{{recipe.photo}}" class="portrait" id="recipeDetailImage"/>
  </div>

  <!--<h1 align="center" class="name" id="name"> {{recipe.name}}</h1>-->

  <h3 align="center" outline>
    <ion-grid id="gridButtons">
      <ion-row>
        <ion-col>
          <span>
            <ion-chip color="light">
              <ion-label>{{recipe.portions}}</ion-label>
              <ion-icon color="primary" name="people"></ion-icon>
            </ion-chip>
          </span>
        </ion-col>

        <ion-col>
          <span>
            <ion-chip color="light">
              <ion-label>{{recipe.time}}</ion-label>
              <ion-icon color="primary" name="timer"></ion-icon>
            </ion-chip>
          </span>
        </ion-col>

        <ion-col>
          <span>
            <ion-chip color="light">
              <ion-icon color="primary" name="refresh"></ion-icon>
              <ion-label>{{recipe.difficulty | difficulty}}</ion-label>
            </ion-chip>
          </span>
        </ion-col>

        <ion-col>
          <span>
            <ion-chip color="light">
              <ion-icon color="primary" name="star-outline"></ion-icon>
              <ion-label>{{recipe.rating}}</ion-label>
            </ion-chip>
          </span>
        </ion-col>

      </ion-row>
    </ion-grid>
  </h3>

  <div padding>
    <ion-list>
      <ion-list-header>
        Ingredients
      </ion-list-header>
      <ion-item *ngFor="let item of recipe.items" [ngClass]="checkFood(item) ? 'enough' : 'not-enough'"  (click)="showProducts(item)">
        {{item.food.name}}
        <ion-note item-end>{{item.count}} {{item.food.unit | unit}}</ion-note>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-list-header>
        Description
      </ion-list-header>
      <ion-item>
        {{recipe.description}}
      </ion-item>
    </ion-list>
  </div>

  <p id="tags" align="center"><span *ngFor="let tag of recipe.tags" (click)="onTagClick(tag)" class="tag"> #{{tag }} </span></p>

  <ion-fab top right>
    <button mini ion-fab color="{{getColorByRating()}}">
      <ion-icon name="{{getEmojiByRating()}}"></ion-icon>
    </button>
    <ion-fab-list side="bottom">
      <button ion-fab color="primary" (click)="ratingPlus()">
        <ion-icon name="md-thumbs-up"></ion-icon>
      </button>
      <button ion-fab color="primary" (click)="ratingMinus()">
        <ion-icon name="md-thumbs-down"></ion-icon>
      </button>

    </ion-fab-list>
  </ion-fab>

</ion-content>
